# 慢性病管理系统 - 医生界面测试指南

## 🚀 快速开始

### 1. 启动应用

```bash
# 进入项目目录
cd chronic-disease-app

# 安装依赖
npm install

# 启动应用
npm start
```

### 2. 启动后端服务

```bash
# 进入后端目录
cd chronic-disease-backend

# 激活虚拟环境
source venv/bin/activate  # macOS/Linux
# 或 venv\Scripts\activate  # Windows

# 启动Django服务器
python manage.py runserver
```

## 👨‍⚕️ 医生账号登录

### 测试账号信息
- **手机号**: `+8613800138001`
- **密码**: `123456`
- **角色**: 医生

### 登录步骤
1. 打开应用
2. 选择"医生登录"
3. 输入手机号和密码
4. 点击登录

## 📊 功能测试清单

### 1. 仪表板 (Dashboard)
- [ ] 统计卡片显示正常
  - 患者总数: 127
  - 活跃告警: 8
  - 今日咨询: 15
  - 用药依从性: 85%
- [ ] 时间范围切换功能
- [ ] 患者风险分布饼图
- [ ] 每周咨询量柱状图
- [ ] 血压趋势折线图
- [ ] 最近患者活动列表
- [ ] 快速操作按钮

### 2. 患者管理 (Patients)
- [ ] 患者列表加载
- [ ] 搜索功能测试
- [ ] 风险等级筛选
- [ ] 下拉刷新
- [ ] 点击进入患者详情

### 3. 患者详情 (Patient Details)
#### 概览标签
- [ ] 患者基本信息显示
- [ ] 健康指标统计卡片
- [ ] 联系信息
- [ ] 最近告警

#### 健康数据标签
- [ ] 血压趋势图
- [ ] 血糖趋势图  
- [ ] 心率趋势图

#### 用药信息标签
- [ ] 用药计划列表
- [ ] 依从性进度条
- [ ] 添加用药计划按钮

#### 病史记录标签
- [ ] 医疗历史记录
- [ ] 检查记录

### 4. 告警中心 (Alerts)
- [ ] 告警统计显示
- [ ] 告警优先级分布图
- [ ] 告警状态分布图
- [ ] 告警列表
- [ ] 搜索功能
- [ ] 状态筛选
- [ ] 优先级筛选
- [ ] 告警处理操作

### 5. 用药计划 (Medication)
#### 当前用药标签
- [ ] 统计卡片
- [ ] 今日用药安排
- [ ] 用药详情卡片
- [ ] 依从性进度条
- [ ] 用药操作按钮

#### 用药历史标签
- [ ] 历史用药记录
- [ ] 停药原因显示

#### 统计分析标签
- [ ] 依从性趋势图
- [ ] 药物类别分布图
- [ ] 服药时间分布图

## 🐛 常见问题解决

### 1. 应用启动问题
**问题**: `npm start` 失败
**解决**: 
```bash
# 清除缓存
npm cache clean --force
# 重新安装依赖
rm -rf node_modules package-lock.json
npm install
```

### 2. 图表不显示
**问题**: SVG图表组件不显示
**解决**: 确保安装了react-native-svg
```bash
npm install react-native-svg
```

### 3. 登录失败
**问题**: 无法登录医生账号
**解决**: 
1. 检查后端服务是否启动
2. 使用患者列表页面的调试模式
3. 点击"快速登录医生"按钮

### 4. 数据不加载
**问题**: 界面显示但数据为空
**解决**: 
1. 检查网络连接
2. 查看浏览器控制台错误
3. 使用调试模式检查状态

### 5. 图表样式问题
**问题**: 图表显示异常
**解决**: 
1. 检查屏幕尺寸适配
2. 确保数据格式正确
3. 查看控制台错误信息

## 📱 测试场景

### 场景1: 医生日常工作流
1. 登录 → 查看仪表板
2. 检查活跃告警
3. 处理紧急告警
4. 查看患者列表
5. 进入患者详情
6. 查看健康数据趋势
7. 调整用药计划

### 场景2: 患者管理
1. 搜索特定患者
2. 按风险等级筛选
3. 查看患者详细信息
4. 分析健康数据
5. 更新用药计划
6. 添加医疗记录

### 场景3: 告警处理
1. 查看告警统计
2. 按优先级筛选
3. 处理危急告警
4. 标记告警状态
5. 查看处理历史

## 🎯 性能测试

### 1. 加载时间测试
- [ ] 应用启动时间 < 3秒
- [ ] 页面切换时间 < 1秒
- [ ] 数据加载时间 < 2秒

### 2. 内存使用测试
- [ ] 长时间使用无内存泄漏
- [ ] 图表渲染内存稳定
- [ ] 页面切换内存释放

### 3. 交互响应测试
- [ ] 触摸响应及时
- [ ] 滚动流畅
- [ ] 动画流畅

## 📊 数据验证

### 模拟数据说明
- 患者总数: 127人
- 活跃告警: 8个
- 用药计划: 每患者3-5个
- 健康数据: 近7天趋势
- 依从性: 70-95%范围

### 数据一致性检查
- [ ] 统计数据与详情页一致
- [ ] 图表数据与列表一致
- [ ] 时间范围切换数据正确

## 🔧 开发者工具

### 调试模式
在患者列表页面启用调试模式：
1. 点击"显示调试"
2. 查看认证状态
3. 检查数据加载
4. 使用快速登录

### 控制台日志
查看浏览器控制台获取详细错误信息：
- 网络请求状态
- 组件渲染错误
- 状态管理日志

## ✅ 测试通过标准

### 功能完整性
- [ ] 所有页面正常加载
- [ ] 所有图表正常显示
- [ ] 所有交互功能正常

### 用户体验
- [ ] 界面美观整洁
- [ ] 操作流畅直观
- [ ] 错误处理友好

### 数据准确性
- [ ] 统计数据正确
- [ ] 图表数据一致
- [ ] 时间显示准确

---

## 🎉 测试完成

如果所有测试项目都通过，说明医生界面可视化系统已经成功实现并可以正常使用！

如果遇到任何问题，请参考上述解决方案或联系开发团队。 