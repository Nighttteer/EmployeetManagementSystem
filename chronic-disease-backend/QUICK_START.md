# ğŸš€ æ™ºèƒ½å‘Šè­¦ç³»ç»Ÿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ¯ **ç³»ç»Ÿç‰¹ç‚¹**
- âœ… **é›¶ä¾èµ–**: ä¸éœ€è¦Redisã€Celeryç­‰é¢å¤–æœåŠ¡
- âœ… **å®æ—¶å“åº”**: æ‚£è€…æ•°æ®å¼‚å¸¸ç«‹å³ç”Ÿæˆå‘Šè­¦
- âœ… **æ™ºèƒ½åˆ†æ**: åŸºäºçœŸå®æ•°æ®åº“æ•°æ®çš„è¶‹åŠ¿åˆ†æ
- âœ… **ç®€å•éƒ¨ç½²**: åªéœ€è¦Django + React Native

## ğŸ› ï¸ **å¿«é€Ÿå¯åŠ¨**

### **1. å¯åŠ¨åç«¯**
```bash
cd chronic-disease-backend

# åˆ›å»ºæµ‹è¯•æ•°æ®ï¼ˆåŒ…å«åŒ»ç”Ÿã€æ‚£è€…ã€å¥åº·æ•°æ®ï¼‰
python manage.py create_test_data

# å¯åŠ¨DjangoæœåŠ¡å™¨
python manage.py runserver 0.0.0.0:8000
```

### **2. å¯åŠ¨å‰ç«¯**
```bash
cd chronic-disease-app

# æ¸…ç†ç¼“å­˜å¹¶å¯åŠ¨
npx expo start --clear
```

### **3. æµ‹è¯•ç³»ç»Ÿ**

#### **æµ‹è¯•å®æ—¶å‘Šè­¦**
1. **æ‚£è€…ç«¯**: å¡«å†™å¼‚å¸¸å¥åº·æ•°æ®
   - è¡€å‹: 185/95 (ä¼šè§¦å‘ç´§æ€¥å‘Šè­¦)
   - è¡€ç³–: 16.5 (ä¼šè§¦å‘ç´§æ€¥å‘Šè­¦)
   - å¿ƒç‡: 125 (ä¼šè§¦å‘ç´§æ€¥å‘Šè­¦)

2. **è§‚å¯ŸDjangoæ§åˆ¶å°**ï¼Œåº”è¯¥çœ‹åˆ°:
   ```
   ğŸ“Š æ‚£è€… å¼ ä¸‰ æäº¤äº†æ–°çš„å¥åº·æ•°æ®: blood_pressure
   ğŸš¨ å®æ—¶åˆ†ææ‚£è€…ID 1 çš„ blood_pressure æ•°æ®...
   ğŸš¨ ç”Ÿæˆç´§æ€¥å‘Šè­¦: æ‚£è€…è¡€å‹å±æ€¥ï¼š185/95mmHg
   âœ… å·²å®Œæˆæ‚£è€… å¼ ä¸‰ çš„å®æ—¶æ•°æ®åˆ†æ
   ```

3. **åŒ»ç”Ÿç«¯**: ç™»å½•åæŸ¥çœ‹å‘Šè­¦é¡µé¢ï¼Œåº”èƒ½çœ‹åˆ°æ–°ç”Ÿæˆçš„å‘Šè­¦

#### **æµ‹è¯•æ™ºèƒ½åˆ†æ**
```bash
# æ‰‹åŠ¨è§¦å‘æ•°æ®åˆ†æ
python manage.py analyze_patient_data --doctor-id 1 --verbose

# æŸ¥çœ‹ç”Ÿæˆçš„å‘Šè­¦
python manage.py shell
from health.models import Alert
print(f"æ€»å‘Šè­¦æ•°: {Alert.objects.count()}")
for alert in Alert.objects.all()[:5]:
    print(f"- {alert.title}: {alert.priority} ({alert.status})")
```

## ğŸ“Š **æ•°æ®æµç¨‹**

```
æ‚£è€…å¡«å†™æ•°æ® â†’ HealthMetricè¡¨
         â†“
    Djangoä¿¡å·è§¦å‘
         â†“  
    å®æ—¶åˆ†æ(åŒæ­¥æ‰§è¡Œ)
         â†“
    ç”Ÿæˆå‘Šè­¦ â†’ Alertè¡¨
         â†“
    åŒ»ç”Ÿç«¯APIè·å– â†’ æ˜¾ç¤ºå‘Šè­¦
```

## ğŸ”§ **ç®¡ç†å‘½ä»¤**

```bash
# åˆ›å»ºæµ‹è¯•æ•°æ®
python manage.py create_test_data

# åˆ†æç‰¹å®šåŒ»ç”Ÿçš„æ‚£è€…æ•°æ®
python manage.py analyze_patient_data --doctor-id 1

# åˆ†ææ‰€æœ‰åŒ»ç”Ÿçš„æ‚£è€…æ•°æ®  
python manage.py analyze_patient_data --all-doctors

# æ¸…ç†è¿‡æœŸå‘Šè­¦
python manage.py shell
from health.tasks import cleanup_old_alerts
cleanup_old_alerts()
```

## ğŸ“± **æµ‹è¯•è´¦å·**

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

### **åŒ»ç”Ÿè´¦å·**
- é‚®ç®±: `doctor@test.com`
- å¯†ç : `test123456`
- å§“å: å¼ åŒ»ç”Ÿ

### **æ‚£è€…è´¦å·**
- å¼ ä¸‰: `patient1@test.com` / `test123456`
- æå››: `patient2@test.com` / `test123456`  
- ç‹äº”: `patient3@test.com` / `test123456`

## ğŸ¯ **éªŒè¯æˆåŠŸ**

ç³»ç»Ÿå·¥ä½œæ­£å¸¸çš„æ ‡å¿—ï¼š

1. âœ… **Djangoå¯åŠ¨æ— é”™è¯¯**: `Starting development server at http://0.0.0.0:8000/`
2. âœ… **å‰ç«¯è¿æ¥æˆåŠŸ**: ä¸å†å‡ºç° `Network request failed`
3. âœ… **å®æ—¶åˆ†æå·¥ä½œ**: æ§åˆ¶å°æ˜¾ç¤ºåˆ†ææ—¥å¿—
4. âœ… **å‘Šè­¦ç”Ÿæˆ**: åŒ»ç”Ÿç«¯èƒ½çœ‹åˆ°å‘Šè­¦æ•°æ®
5. âœ… **æ•°æ®æ¥æºæ­£ç¡®**: é¡µé¢æ˜¾ç¤º"æ•°æ®æ¥æº: database"

## ğŸ“‹ **APIç«¯ç‚¹**

- å‘Šè­¦æ•°æ®: `GET /api/health/alerts/doctor/{doctor_id}/`
- æ™ºèƒ½åˆ†æ: `GET /api/health/intelligent-alerts/`
- æ‚£è€…æ•°æ®: `GET /api/patients/{patient_id}/health-data/`

ç°åœ¨ç³»ç»Ÿå·²ç»å®Œå…¨ç®€åŒ–ï¼Œä¸å†éœ€è¦å¤æ‚çš„å¼‚æ­¥ä»»åŠ¡é…ç½®ï¼ğŸ‰